<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Form Validation</title>
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
	<div class="container">
		<h1 class="text-center">Register With Us</h1>
		<div class="alert" id="msg"></div>
<form id="regForm">
  <div class="form-group">
    <label>Name</label>
    <input type="text" class="form-control" id="name" name="name">
  </div>
  <div class="form-group">
    <label>Email</label>
    <input type="text" class="form-control" id="email" name="email">
  </div>
  <div class="form-group">
    <label>Password</label>
    <input type="Password" class="form-control" id="password" name="password">
  </div>
  <div class="form-group">
    <label>Confirm Password</label>
    <input type="Password" class="form-control" id="password2" name="password2">
  </div>
  <button type="submit" class="btn btn-default">Submit</button>
</form>
</div>
<script type="text/javascript">
	function register(e){
		e.preventDefault();
		var name = document.getElementById('name').value;
		var email = document.getElementById('email').value;
		var password = document.getElementById('password').value;
		var password2 = document.getElementById('password2').value;

		var msg = document.getElementById('msg');

		if(name == '' || email == '' || password == '' || password2 == '') {
			msg.className = "alert alert-danger";
			msg.innerHTML = 'Please fill out all fields';
		} else {
			if(name.length < 3) {
				msg.className = "alert alert-danger";
				msg.innerHTML = 'Name must be atleast 3 characters';
			} else {
				var atpos	= email.indexOf("@");
				var dotpos = email.lastIndexOf(".");
				if(atpos < 1 || dotpos < atpos+2 || dotpos+2 >= email.length){
					msg.className = "alert alert-danger";
					msg.innerHTML = 'Please use valid email';
				} else {
					if(password != password2){
						msg.className = 'alert alert-danger';
						msg.innerHTML = 'Passwords do not match';

					} else {
					// success
					msg.className = "alert alert-success";
					msg.innerHTML = name+' is registered with email '+ email;
				 }
				}
			}

		}
	}
	document.getElementById('regForm').addEventListener('submit',register,false);
</script>
</body>
</html>